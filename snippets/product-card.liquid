<div class="product-card" data-product-id="{{ product.id }}">
  <div class="product-card__image-wrapper">
    <a href="{{ product.url }}" class="product-card__link">
      {% if product.featured_media %}
        <img
          srcset="{% if product.featured_media.width >= 165 %}{{ product.featured_media | img_url: '165x' }} 165w,{% endif %}
                  {% if product.featured_media.width >= 360 %}{{ product.featured_media | img_url: '360x' }} 360w,{% endif %}
                  {% if product.featured_media.width >= 533 %}{{ product.featured_media | img_url: '533x' }} 533w,{% endif %}
                  {% if product.featured_media.width >= 720 %}{{ product.featured_media | img_url: '720x' }} 720w,{% endif %}
                  {% if product.featured_media.width >= 940 %}{{ product.featured_media | img_url: '940x' }} 940w,{% endif %}
                  {% if product.featured_media.width >= 1066 %}{{ product.featured_media | img_url: '1066x' }} 1066w,{% endif %}"
          src="{{ product.featured_media | img_url: '533x' }}"
          sizes="(min-width: 1200px) calc((1200px - 10rem) / 4), (min-width: 750px) calc((100vw - 11.5rem) / 2), calc(100vw - 4rem)"
          loading="lazy"
          class="product-card__image"
          width="{{ product.featured_media.width }}"
          height="{{ product.featured_media.height }}"
          alt="{{ product.featured_media.alt | escape }}"
        >
      {% else %}
        {{ 'product-1' | placeholder_svg_tag: 'product-card__image placeholder-svg' }}
      {% endif %}
    </a>

    {% if product.available %}
      {% if product.compare_at_price > product.price %}
        <div class="product-card__badge product-card__badge--sale">
          {{ 'products.product.on_sale' | t }}
        </div>
      {% endif %}
    {% else %}
      <div class="product-card__badge product-card__badge--sold-out">
        {{ 'products.product.sold_out' | t }}
      </div>
    {% endif %}
  </div>

  <div class="product-card__info">
    <div class="product-card__vendor">{{ product.vendor }}</div>
    
    <h3 class="product-card__title">
      <a href="{{ product.url }}">{{ product.title }}</a>
    </h3>
    
    <div class="product-card__price">
      {% if product.available %}
        {% if product.compare_at_price > product.price %}
          <span class="product-card__price--sale">{{ product.price | money }}</span>
          <span class="product-card__price--regular">{{ product.compare_at_price | money }}</span>
        {% else %}
          <span class="product-card__price--regular">{{ product.price | money }}</span>
        {% endif %}
      {% else %}
        <span class="product-card__price--sold-out">{{ product.price | money }}</span>
      {% endif %}
    </div>
  </div>

  <div class="product-card__buttons">
    {% if product.available %}
      {% if product.has_only_default_variant %}
        <button 
          type="button" 
          class="product-card__add-to-cart" 
          data-product-id="{{ product.id }}"
          data-variant-id="{{ product.variants.first.id }}"
        >
          {{ 'products.product.add_to_cart' | t }}
        </button>
      {% else %}
        <a href="{{ product.url }}" class="product-card__choose-options">
          {{ 'products.product.choose_options' | t }}
        </a>
      {% endif %}
    {% else %}
      <button type="button" class="product-card__sold-out" disabled>
        {{ 'products.product.sold_out' | t }}
      </button>
    {% endif %}
  </div>
</div> 